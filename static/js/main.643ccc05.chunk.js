(this["webpackJsonpcs-restaurants"]=this["webpackJsonpcs-restaurants"]||[]).push([[0],{18:function(e,t){e.exports={AL:"Alabama",AK:"Alaska",AZ:"Arizona",AR:"Arkansas",CA:"California",CO:"Colorado",CT:"Connecticut",DE:"Delaware",FL:"Florida",GA:"Georgia",HI:"Hawaii",ID:"Idaho",IL:"Illinois",IN:"Indiana",IA:"Iowa",KS:"Kansas",KY:"Kentucky",LA:"Louisiana",ME:"Maine",MD:"Maryland",MA:"Massachusetts",MI:"Michigan",MN:"Minnesota",MS:"Mississippi",MO:"Missouri",MT:"Montana",NE:"Nebraska",NV:"Nevada",NH:"New Hampshire",NJ:"New Jersey",NM:"New Mexico",NY:"New York",NC:"North Carolina",ND:"North Dakota",OH:"Ohio",OK:"Oklahoma",OR:"Oregon",PA:"Pennsylvania",RI:"Rhode Island",SC:"South Carolina",SD:"South Dakota",TN:"Tennessee",TX:"Texas",UT:"Utah",VT:"Vermont",VA:"Virginia",WA:"Washington",WV:"West Virginia",WI:"Wisconsin",WY:"Wyoming"}},22:function(e,t,n){e.exports=n(51)},27:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},51:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(17),i=n.n(c),l=(n(27),n(1)),o=(n(28),function(e){var t=e.restaurants;return r.a.createElement("div",{id:"table-wrapper"},r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"City"),r.a.createElement("th",null,"State"),r.a.createElement("th",null,"Telephone"),r.a.createElement("th",null,"Genre"))),r.a.createElement("tbody",null,null===t||void 0===t?void 0:t.map((function(e,t){return r.a.createElement("tr",{key:t,"data-testid":"restaurant"},r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.city),r.a.createElement("td",null,e.state),r.a.createElement("td",null,e.telephone),r.a.createElement("td",null,e.genre))})))))}),u=(n(29),function(e){return r.a.createElement(r.a.Fragment,null,(e.label||e.clear)&&r.a.createElement("div",{className:"select-header","date-testid":"select-header"},e.label||""," ",e.clear&&r.a.createElement("button",{onClick:e.clear},"clear")),r.a.createElement("div",{className:"select-container"},e.options.map((function(t,n){return r.a.createElement("label",{key:n},r.a.createElement("input",{value:t.id,"data-testid":"checkbox-".concat(t.id),type:"checkbox",checked:Array.isArray(e.selected)?e.selected.some((function(e){return e===t.id})):e.selected===t.id,onChange:e.onChange}),r.a.createElement("div",null,t.name))}))))}),s=n(21),f=n(3),m=n(4),d=n(18),h=n.n(d),E=function(e,t,n){return e.filter((function(e){return RegExp(n,"i").test(e[t])}))},g=function(e,t,n){if(n.length){var a=n.map((function(e){return new RegExp(e,"i")}));return e.filter((function(e){return a.some((function(n){return n.test(e[t])}))}))}return e},v=function(e,t){return t.filter((function(t){var n=new RegExp(e,"i");return n.test(t.name)||n.test(t.city)||n.test(t.genre)}))},p=function(e){var t=e.reduce((function(e,t){var n=t.genre;return"".concat(e,",").concat(n.toLowerCase())}),"").split(",").filter((function(e){return e})).reduce((function(e,t){return Object(m.a)({},e,Object(f.a)({},t,O(t)))}),{});return x(t)},b=function(e){var t=e.reduce((function(e,t){return Object(m.a)({},e,Object(f.a)({},t.attire.toLowerCase(),O(t.attire)))}),{});return x(t)},w=function(e){var t=e.reduce((function(e,t){var n=t.state.toUpperCase(),a=h.a[n];return Object(m.a)({},e,Object(f.a)({},n,a||n))}),{});return x(t)},O=function(e){return"".concat(e.slice(0,1).toUpperCase()).concat(e.slice(1).toLowerCase())},x=function(e){return Object.entries(e).reduce((function(e,t){var n=Object(l.a)(t,2),a=n[0],r=n[1];return e.push({id:a,name:r}),e}),[]).sort((function(e,t){return e.name<t.name?-1:0}))},j=function(e){return r.a.createElement("div",null,"Filter:",["state","genre","attire"].map((function(t,n){var a=e.filterGroups[t],c=e.filter,i=e.setFilter;return a.length?r.a.createElement(u,{key:n,options:a,selected:c[t],label:"By ".concat(t),clear:function(){return function(e,t,n){t(Object(m.a)({},e,Object(f.a)({},n,Array.isArray(e[n])?[]:null)))}(c,i,t)},onChange:function(e){return function(e,t,n,a,r){var c,i=e.target.value,l=t[a];r&&(c=l.includes(i)?l.filter((function(e){return e!==i})):[].concat(Object(s.a)(l),[i])),n(Object(m.a)({},t,Object(f.a)({},a,c)))}(e,c,i,t,!0)}}):null})))},C=(n(30),function(){return r.a.createElement("svg",{id:"search-icon",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",viewBox:"0 0 25 25"},r.a.createElement("title",null,"search"),r.a.createElement("path",{fill:"#3675ff",d:"M24.225 21.274l-5.922-5.036c-0.612-0.551-1.267-0.804-1.796-0.779 1.398-1.637 2.242-3.762 2.242-6.083 0-5.178-4.197-9.375-9.375-9.375s-9.375 4.197-9.375 9.375 4.197 9.375 9.375 9.375c2.322 0 4.446-0.844 6.083-2.242-0.024 0.529 0.229 1.184 0.779 1.796l5.036 5.922c0.862 0.958 2.271 1.039 3.13 0.18s0.779-2.268-0.18-3.13zM9.375 15.625c-3.452 0-6.25-2.798-6.25-6.25s2.798-6.25 6.25-6.25 6.25 2.798 6.25 6.25-2.798 6.25-6.25 6.25z"}))}),y=function(){return r.a.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",viewBox:"0 0 20 20"},r.a.createElement("title",null,"close"),r.a.createElement("path",{fill:"#3675ff",d:"M10 8.586l-7.071-7.071-1.414 1.414 7.071 7.071-7.071 7.071 1.414 1.414 7.071-7.071 7.071 7.071 1.414-1.414-7.071-7.071 7.071-7.071-1.414-1.414-7.071 7.071z"}))},M=function(e){var t=Object(a.useState)(""),n=Object(l.a)(t,2),c=n[0],i=n[1];return r.a.createElement("div",{id:"search-box"},r.a.createElement("input",{type:"text",id:"text-search",value:c,onChange:function(t){var n=t.target.value;i(n),n||e.setTextSearch("")},onKeyPress:function(t){return"Enter"===t.key?e.setTextSearch(c):null},placeholder:"search by name, city or genre"}),c&&e.textSearch===c?r.a.createElement("button",{"data-testid":"clear-search-button",onClick:function(){i(""),e.setTextSearch("")}},r.a.createElement(y,null)):r.a.createElement("button",{"data-testid":"search-button",onClick:function(){return e.setTextSearch(c)}},r.a.createElement(C,null)))},S=(n(31),function(){return r.a.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},r.a.createElement("title",null,"chevron-left"),r.a.createElement("path",{fill:"#3675ff",d:"M15.707 17.293l-5.293-5.293 5.293-5.293c0.391-0.391 0.391-1.024 0-1.414s-1.024-0.391-1.414 0l-6 6c-0.391 0.391-0.391 1.024 0 1.414l6 6c0.391 0.391 1.024 0.391 1.414 0s0.391-1.024 0-1.414z"}))}),k=function(){return r.a.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},r.a.createElement("title",null,"chevron-right"),r.a.createElement("path",{fill:"#3675ff",d:"M9.707 18.707l6-6c0.391-0.391 0.391-1.024 0-1.414l-6-6c-0.391-0.391-1.024-0.391-1.414 0s-0.391 1.024 0 1.414l5.293 5.293-5.293 5.293c-0.391 0.391-0.391 1.024 0 1.414s1.024 0.391 1.414 0z"}))},N=function(e){if(void 0===e.restaurantCount)return null;var t=e.pagination,n=t.offset,a=t.limit,c=Math.ceil(n/a)+1,i=Math.ceil(e.restaurantCount/a);return r.a.createElement("div",{id:"pagination"},r.a.createElement("button",{onClick:function(){e.setPagination({offset:n-a,limit:a})},disabled:1===c,"data-testid":"previous-button"},r.a.createElement(S,null)),"Page ",c," of ",i,r.a.createElement("button",{onClick:function(){e.setPagination({offset:n+a,limit:a})},disabled:c===i,"data-testid":"next-button"},r.a.createElement(k,null)))},A=function(){return r.a.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",viewBox:"0 0 25 25"},r.a.createElement("title",null,"filter"),r.a.createElement("path",{fill:"#3675ff",d:"M12.5 0c-6.904 0-12.5 1.749-12.5 3.906v2.344l9.375 9.375v7.813c0 0.863 1.399 1.563 3.125 1.563s3.125-0.7 3.125-1.563v-7.813l9.375-9.375v-2.344c0-2.157-5.596-3.906-12.5-3.906zM2.304 3.389c0.585-0.333 1.406-0.65 2.375-0.915 2.147-0.588 4.925-0.912 7.821-0.912s5.674 0.324 7.821 0.912c0.969 0.265 1.79 0.582 2.375 0.915 0.386 0.22 0.594 0.406 0.691 0.517-0.097 0.111-0.305 0.297-0.691 0.517-0.585 0.333-1.406 0.65-2.375 0.915-2.147 0.588-4.925 0.912-7.821 0.912s-5.674-0.324-7.821-0.912c-0.969-0.265-1.79-0.582-2.375-0.915-0.386-0.22-0.594-0.406-0.691-0.517 0.097-0.111 0.305-0.297 0.691-0.517z"}))},T=(n(32),function(e){var t=Object(a.useState)(!1),n=Object(l.a)(t,2),c=n[0],i=n[1],u=!e.loading&&!e.restaurants.length;return e.loading?r.a.createElement("div",{id:"loader"}):r.a.createElement("div",{id:"layout",onClick:function(){c&&i(!1)}},r.a.createElement("div",{id:"left-panel",className:"".concat(c?"open":"","-filter"),onClick:function(e){return e.stopPropagation()}},r.a.createElement("button",{id:"open-close-filter",className:"".concat(c?"open":"","-filter"),onClick:function(){return i(!c)}},c?r.a.createElement(y,null):r.a.createElement(A,null)),r.a.createElement(j,{filterGroups:e.filterGroups,filter:e.filter,setFilter:e.setFilter})),r.a.createElement("div",{id:"main-screen"},r.a.createElement(M,{textSearch:e.textSearch,setTextSearch:e.setTextSearch}),u?r.a.createElement("div",{id:"no-matches"},"No matches found"):r.a.createElement(r.a.Fragment,null,r.a.createElement(o,{loading:e.loading,restaurants:e.restaurants}),r.a.createElement(N,{pagination:e.pagination,setPagination:e.setPagination,restaurantCount:e.restaurantCount}))))}),I=n(7),P=n.n(I),z=n(19),F=n(20),G=n.n(F),R={getRestaurants:function(){var e=Object(z.a)(P.a.mark((function e(t,n){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",G.a.get("https://code-challenge.spectrumtoolbox.com/api/restaurants",{method:"GET",headers:{Authorization:"Api-Key q3MNxtfep8Gt"}}).then((function(e){var n=e.data;return t(n)})).catch((function(e){return n("Error loading data")})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},D={state:[],genre:[],attire:[]},K={offset:0,limit:10},L=function(){var e=Object(a.useState)(D),t=Object(l.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(K),o=Object(l.a)(i,2),u=o[0],s=o[1],f=Object(a.useState)({state:[],genre:[],attire:[]}),m=Object(l.a)(f,2),d=m[0],h=m[1],O=Object(a.useState)(!0),x=Object(l.a)(O,2),j=x[0],C=x[1],y=Object(a.useState)(""),M=Object(l.a)(y,2),S=M[0],k=M[1],N=Object(a.useState)(null),A=Object(l.a)(N,2),I=A[0],P=A[1],z=Object(a.useState)([]),F=Object(l.a)(z,2),G=F[0],L=F[1],W=function(e){alert(e),C(!1)};Object(a.useEffect)((function(){if(null===I)R.getRestaurants(B,W);else{var e=function(e,t,n){for(var a=n||[],r=0,c=Object.keys(e);r<c.length;r++){var i=c[r],l=e[i];a=Array.isArray(l)?g(a,i,l):E(a,i,l)}return t&&(a=v(t,a)),a.sort((function(e,t){return e.name<t.name?-1:0}))}(n,S,I);L(e),s(K)}}),[n,I,S]);var B=function(e){var t=function(e){return{genre:p(e),attire:b(e),state:w(e)}}(e);h(t),P(e),C(!1)};return r.a.createElement(T,{restaurants:G.slice(u.offset,u.offset+u.limit),filter:n,setFilter:c,filterGroups:d,textSearch:S,setTextSearch:k,pagination:u,setPagination:s,restaurantCount:null===G||void 0===G?void 0:G.length,loading:j})};i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(L,null)),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.643ccc05.chunk.js.map